import{c as o,h as d,U as F,V as M,k as G,t as J,s as D,q as Z,r as j,a as ee,z as te,g as ne,u as E,m as ae,T as le,l as ue}from"./index.75e44163.js";import{b as N,a as re,u as ie,Q as O}from"./QIcon.1f29f649.js";import{c as I,b as oe,d as se}from"./render.085842c3.js";import{u as ce,a as de}from"./use-align.92b4ae54.js";import{u as fe,a as ve}from"./use-router-link.e78a6fdd.js";const me={size:{type:[Number,String],default:"1em"},color:String};function be(e){return{cSize:o(()=>e.size in N?`${N[e.size]}px`:e.size),classes:o(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}var ge=I({name:"QSpinner",props:{...me,thickness:{type:Number,default:5}},setup(e){const{cSize:l,classes:n}=be(e);return()=>d("svg",{class:n.value+" q-spinner-mat",width:l.value,height:l.value,viewBox:"25 25 50 50"},[d("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});function ye(e,l){const n=e.style;for(const r in l)n[r]=l[r]}function Te(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const l=F(e)===!0?e.value:e;if(l)return l.$el||l}function he(e,l=250){let n=!1,r;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},l),r=e.apply(this,arguments)),r}}function A(e,l,n,r){n.modifiers.stop===!0&&D(e);const s=n.modifiers.color;let g=n.modifiers.center;g=g===!0||r===!0;const m=document.createElement("span"),c=document.createElement("span"),x=Z(e),{left:C,top:h,width:k,height:p}=l.getBoundingClientRect(),a=Math.sqrt(k*k+p*p),q=a/2,f=`${(k-a)/2}px`,u=g?f:`${x.left-C-q}px`,y=`${(p-a)/2}px`,_=g?y:`${x.top-h-q}px`;c.className="q-ripple__inner",ye(c,{height:`${a}px`,width:`${a}px`,transform:`translate3d(${u},${_},0) scale3d(.2,.2,1)`,opacity:0}),m.className=`q-ripple${s?" text-"+s:""}`,m.setAttribute("dir","ltr"),m.appendChild(c),l.appendChild(m);const R=()=>{m.remove(),clearTimeout(B)};n.abort.push(R);let B=setTimeout(()=>{c.classList.add("q-ripple__inner--enter"),c.style.transform=`translate3d(${f},${y},0) scale3d(1,1,1)`,c.style.opacity=.2,B=setTimeout(()=>{c.classList.remove("q-ripple__inner--enter"),c.classList.add("q-ripple__inner--leave"),c.style.opacity=0,B=setTimeout(()=>{m.remove(),n.abort.splice(n.abort.indexOf(R),1)},275)},250)},50)}function K(e,{modifiers:l,value:n,arg:r}){const s=Object.assign({},e.cfg.ripple,l,n);e.modifiers={early:s.early===!0,stop:s.stop===!0,center:s.center===!0,color:s.color||r,keyCodes:[].concat(s.keyCodes||13)}}var ke=oe({name:"ripple",beforeMount(e,l){const n={cfg:l.instance.$.appContext.config.globalProperties.$q.config,enabled:l.value!==!1,modifiers:{},abort:[],start(r){n.enabled===!0&&r.qSkipRipple!==!0&&r.type===(n.modifiers.early===!0?"pointerdown":"click")&&A(r,e,n,r.qKeyEvent===!0)},keystart:he(r=>{n.enabled===!0&&r.qSkipRipple!==!0&&M(r,n.modifiers.keyCodes)===!0&&r.type===`key${n.modifiers.early===!0?"down":"up"}`&&A(r,e,n,!0)},300)};K(n,l),e.__qripple=n,G(n,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,l){if(l.oldValue!==l.value){const n=e.__qripple;n.enabled=l.value!==!1,n.enabled===!0&&Object(l.value)===l.value&&K(n,l)}},beforeUnmount(e){const l=e.__qripple;l.abort.forEach(n=>{n()}),J(l,"main"),delete e._qripple}});const Q={none:0,xs:4,sm:8,md:16,lg:24,xl:32},pe={xs:8,sm:10,md:14,lg:20,xl:24},qe=["button","submit","reset"],xe=/[^\s]\/[^\s]/,Ee={...ie,...ve,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,round:Boolean,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...de.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function Le(e){const l=re(e,pe),n=ce(e),{hasRouterLink:r,hasLink:s,linkTag:g,linkProps:m,navigateToRouterLink:c}=fe("button"),x=o(()=>{const u=e.fab===!1&&e.fabMini===!1?l.value:{};return e.padding!==void 0?Object.assign({},u,{padding:e.padding.split(/\s+/).map(y=>y in Q?Q[y]+"px":y).join(" "),minWidth:"0",minHeight:"0"}):u}),C=o(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),h=o(()=>e.disable!==!0&&e.loading!==!0),k=o(()=>h.value===!0?e.tabindex||0:-1),p=o(()=>e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":"standard"),a=o(()=>{const u={tabindex:k.value};return s.value===!0?Object.assign(u,m.value):qe.includes(e.type)===!0&&(u.type=e.type),g.value==="a"?(e.disable===!0?u["aria-disabled"]="true":u.href===void 0&&(u.role="button"),r.value!==!0&&xe.test(e.type)===!0&&(u.type=e.type)):e.disable===!0&&(u.disabled="",u["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(u,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),u}),q=o(()=>{let u;return e.color!==void 0?e.flat===!0||e.outline===!0?u=`text-${e.textColor||e.color}`:u=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(u=`text-${e.textColor}`),`q-btn--${p.value} q-btn--${e.round===!0?"round":`rectangle${C.value===!0?" q-btn--rounded":""}`}`+(u!==void 0?" "+u:"")+(h.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")}),f=o(()=>n.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:q,style:x,innerClasses:f,attributes:a,hasRouterLink:r,hasLink:s,linkTag:g,navigateToRouterLink:c,isActionable:h}}const{passiveCapture:v}=ue;let L=null,w=null,S=null;var $e=I({name:"QBtn",props:{...Ee,percentage:Number,darkPercentage:Boolean},emits:["click","keydown","touchstart","mousedown","keyup"],setup(e,{slots:l,emit:n}){const{proxy:r}=ne(),{classes:s,style:g,innerClasses:m,attributes:c,hasRouterLink:x,hasLink:C,linkTag:h,navigateToRouterLink:k,isActionable:p}=Le(e),a=j(null),q=j(null);let f=null,u,y;const _=o(()=>e.label!==void 0&&e.label!==null&&e.label!==""),R=o(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:C.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),B=o(()=>({center:e.round})),U=o(()=>{const t=Math.max(0,Math.min(100,e.percentage));return t>0?{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}:{}}),W=o(()=>e.loading===!0?{onMousedown:$,onTouchstartPassive:$,onClick:$,onKeydown:$,onKeyup:$}:p.value===!0?{onClick:z,onKeydown:X,onMousedown:Y,onTouchstart:H}:{onClick:E}),V=o(()=>({ref:a,class:"q-btn q-btn-item non-selectable no-outline "+s.value,style:g.value,...c.value,...W.value}));function z(t){if(a.value!==null){if(t!==void 0){if(t.defaultPrevented===!0)return;const i=document.activeElement;if(e.type==="submit"&&i!==document.body&&a.value.contains(i)===!1&&i.contains(a.value)===!1){a.value.focus();const P=()=>{document.removeEventListener("keydown",E,!0),document.removeEventListener("keyup",P,v),a.value!==null&&a.value.removeEventListener("blur",P,v)};document.addEventListener("keydown",E,!0),document.addEventListener("keyup",P,v),a.value.addEventListener("blur",P,v)}}if(x.value===!0){const i=()=>{t.__qNavigate=!0,k(t)};n("click",t,i),t.defaultPrevented!==!0&&i()}else n("click",t)}}function X(t){a.value!==null&&(n("keydown",t),M(t,[13,32])===!0&&w!==a.value&&(w!==null&&T(),t.defaultPrevented!==!0&&(a.value.focus(),w=a.value,a.value.classList.add("q-btn--active"),document.addEventListener("keyup",b,!0),a.value.addEventListener("blur",b,v)),E(t)))}function H(t){a.value!==null&&(n("touchstart",t),t.defaultPrevented!==!0&&(L!==a.value&&(L!==null&&T(),L=a.value,f=t.target,f.addEventListener("touchcancel",b,v),f.addEventListener("touchend",b,v)),u=!0,clearTimeout(y),y=setTimeout(()=>{u=!1},200)))}function Y(t){a.value!==null&&(t.qSkipRipple=u===!0,n("mousedown",t),t.defaultPrevented!==!0&&S!==a.value&&(S!==null&&T(),S=a.value,a.value.classList.add("q-btn--active"),document.addEventListener("mouseup",b,v)))}function b(t){if(a.value!==null&&!(t!==void 0&&t.type==="blur"&&document.activeElement===a.value)){if(t!==void 0&&t.type==="keyup"){if(w===a.value&&M(t,[13,32])===!0){const i=new MouseEvent("click",t);i.qKeyEvent=!0,t.defaultPrevented===!0&&ae(i),t.cancelBubble===!0&&D(i),a.value.dispatchEvent(i),E(t),t.qKeyEvent=!0}n("keyup",t)}T()}}function T(t){const i=q.value;t!==!0&&(L===a.value||S===a.value)&&i!==null&&i!==document.activeElement&&(i.setAttribute("tabindex",-1),i.focus()),L===a.value&&(f!==null&&(f.removeEventListener("touchcancel",b,v),f.removeEventListener("touchend",b,v)),L=f=null),S===a.value&&(document.removeEventListener("mouseup",b,v),S=null),w===a.value&&(document.removeEventListener("keyup",b,!0),a.value!==null&&a.value.removeEventListener("blur",b,v),w=null),a.value!==null&&a.value.classList.remove("q-btn--active")}function $(t){E(t),t.qSkipRipple=!0}return ee(()=>{T(!0)}),Object.assign(r,{click:z}),()=>{let t=[];e.icon!==void 0&&t.push(d(O,{name:e.icon,left:e.stack===!1&&_.value===!0,role:"img","aria-hidden":"true"})),_.value===!0&&t.push(d("span",{class:"block"},[e.label])),t=se(l.default,t),e.iconRight!==void 0&&e.round===!1&&t.push(d(O,{name:e.iconRight,right:e.stack===!1&&_.value===!0,role:"img","aria-hidden":"true"}));const i=[d("span",{class:"q-focus-helper",ref:q})];return e.loading===!0&&e.percentage!==void 0&&i.push(d("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[d("span",{class:"q-btn__progress-indicator fit block",style:U.value})])),i.push(d("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+m.value},t)),e.loading!==null&&i.push(d(le,{name:"q-transition--fade"},()=>e.loading===!0?[d("span",{key:"loading",class:"absolute-full flex flex-center"},l.loading!==void 0?l.loading():[d(ge)])]:null)),te(d(h.value,V.value,i),[[ke,R.value,void 0,B.value]])}}});export{ge as Q,ke as R,$e as a,ye as c,Te as g};
